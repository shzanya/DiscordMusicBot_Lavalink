# üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Harmony Music Bot

## üìã –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

Harmony Music Bot - —ç—Ç–æ –º–æ–¥—É–ª—å–Ω–∞—è, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –º—É–∑—ã–∫–∏ –≤ Discord. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö **—Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**, **–º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏** –∏ **—Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç–∏**.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### üîß **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**

- –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–º–µ–µ—Ç —á–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–º–µ–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –±–µ–∑ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –¥—Ä—É–≥–∏–µ

### üöÄ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
- –ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –≥–∏–ª—å–¥–∏—è–º–∏
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### üõ°Ô∏è **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**

- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### üé® **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**

- –ü–ª–∞–≥–∏–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–π UI
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –º—É–∑—ã–∫–∏

## üèõÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Å–ª–æ–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    PRESENTATION LAYER                       ‚îÇ
‚îÇ  Discord UI, Embeds, Views, Interactive Components         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                    APPLICATION LAYER                        ‚îÇ
‚îÇ  Commands, Event Handlers, Business Logic                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                     DOMAIN LAYER                            ‚îÇ
‚îÇ  Player, Queue, Effects, Audio Processing                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                   INFRASTRUCTURE LAYER                      ‚îÇ
‚îÇ  Database, External APIs, Audio Engine                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### üéµ **commands/** - –ö–æ–º–∞–Ω–¥—ã –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏

```
commands/
‚îú‚îÄ‚îÄ admin/              # –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ permissions.py  # –°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ settings.py     # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ music/              # –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ playback.py     # –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ effects.py      # –ê—É–¥–∏–æ —ç—Ñ—Ñ–µ–∫—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ queue.py        # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥—å—é
‚îÇ   ‚îî‚îÄ‚îÄ favorites.py    # –ò–∑–±—Ä–∞–Ω–Ω—ã–µ —Ç—Ä–µ–∫–∏
‚îî‚îÄ‚îÄ playlist/           # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–∞–º–∏
    ‚îú‚îÄ‚îÄ management.py   # –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
    ‚îî‚îÄ‚îÄ sharing.py      # –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ø–ª–µ–π–ª–∏—Å—Ç–∞–º–∏
```

### üéõÔ∏è **core/** - –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞

```
core/
‚îú‚îÄ‚îÄ bot.py              # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –±–æ—Ç–∞
‚îú‚îÄ‚îÄ player.py           # –ö–∞—Å—Ç–æ–º–Ω—ã–π –∞—É–¥–∏–æ –ø–ª–µ–µ—Ä
‚îú‚îÄ‚îÄ events/             # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ track_events.py # –°–æ–±—ã—Ç–∏—è —Ç—Ä–µ–∫–æ–≤
‚îî‚îÄ‚îÄ assets.py           # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏
```

### üé® **ui/** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

```
ui/
‚îú‚îÄ‚îÄ views.py            # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
‚îú‚îÄ‚îÄ embeds.py           # –ö—Ä–∞—Å–∏–≤—ã–µ —ç–º–±–µ–¥—ã
‚îú‚îÄ‚îÄ track_select.py     # –í—ã–±–æ—Ä —Ç—Ä–µ–∫–æ–≤
‚îú‚îÄ‚îÄ base_view.py        # –ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã UI
‚îú‚îÄ‚îÄ modals.py           # –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
‚îî‚îÄ‚îÄ progress_updater.py # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
```

### üîß **services/** - –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã

```
services/
‚îú‚îÄ‚îÄ mongo_service.py    # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MongoDB
‚îú‚îÄ‚îÄ spotify.py          # Spotify API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ youtube.py          # YouTube –ø–æ–∏—Å–∫
‚îú‚îÄ‚îÄ lyrics.py           # –°–µ—Ä–≤–∏—Å —Ç–µ–∫—Å—Ç–æ–≤ –ø–µ—Å–µ–Ω
‚îú‚îÄ‚îÄ queue_service.py    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥—è–º–∏
‚îî‚îÄ‚îÄ recommendations.py  # –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
```

### üõ†Ô∏è **utils/** - –£—Ç–∏–ª–∏—Ç—ã –∏ —Ö–µ–ª–ø–µ—Ä—ã

```
utils/
‚îú‚îÄ‚îÄ formatters.py       # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ validators.py       # –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ helpers.py          # –û–±—â–∏–µ —Ö–µ–ª–ø–µ—Ä—ã
‚îú‚îÄ‚îÄ decorators.py       # –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã
‚îî‚îÄ‚îÄ autocomplete.py     # –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥
```

### üìÅ **assets/** - –†–µ—Å—É—Ä—Å—ã

```
assets/
‚îî‚îÄ‚îÄ Emoji/              # –ö–∞—Å—Ç–æ–º–Ω—ã–µ —ç–º–æ–¥–∑–∏
    ‚îú‚îÄ‚îÄ NK_VOLUME.png
    ‚îú‚îÄ‚îÄ NK_PLAY.png
    ‚îî‚îÄ‚îÄ ...
```

## üîÑ –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### üéµ **–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –º—É–∑—ã–∫–∏**

```
User Command ‚Üí Discord API ‚Üí Bot Handler ‚Üí Player ‚Üí Wavelink ‚Üí Lavalink ‚Üí Audio Output
     ‚Üì              ‚Üì            ‚Üì          ‚Üì         ‚Üì          ‚Üì           ‚Üì
   /play         Interaction  Validation  Queue    Filters   Streaming   Discord
```

### üóÑÔ∏è **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**

```
Player State ‚Üí Database Service ‚Üí MongoDB ‚Üí Persistence
     ‚Üì              ‚Üì              ‚Üì           ‚Üì
   Volume        Validation     Storage    Retrieval
   Queue         Serialization  Indexing   Caching
   Settings      Encryption     Backup     Replication
```

### üé® **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI**

```
Audio Progress ‚Üí Progress Updater ‚Üí Embed Generator ‚Üí Discord API ‚Üí UI Update
      ‚Üì              ‚Üì                ‚Üì              ‚Üì           ‚Üì
   Position       Timer Loop      Format Data    Edit Message  Visual Update
   Duration       Force Update    Add Fields     Rate Limit    User Feedback
   Metadata       Error Handle    Color Scheme   Permissions   Responsive
```

## üóÑÔ∏è –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### üìä **Guild Settings**

```javascript
{
  "_id": ObjectId,
  "guild_id": "123456789",
  "color": "blue",
  "volume": 85,
  "custom_emojis": {
    "NK_VOLUME": "üîä",
    "NK_HEART": "‚ù§Ô∏è"
  },
  "dj_role": "987654321",
  "prefix": "!",
  "autoplay": true,
  "default_volume": 100,
  "created_at": ISODate,
  "updated_at": ISODate
}
```

### üéµ **Saved Queue**

```javascript
{
  "_id": ObjectId,
  "guild_id": "123456789",
  "tracks": [
    {
      "title": "Song Title",
      "author": "Artist",
      "uri": "https://...",
      "length": 180000,
      "requester": "456789123"
    }
  ],
  "current_index": 2,
  "loop_mode": "NONE",
  "volume": 85,
  "effects": {
    "bass_boost": false,
    "nightcore": true
  },
  "created_at": ISODate,
  "last_played": ISODate
}
```

### üë§ **User Favorites**

```javascript
{
  "_id": ObjectId,
  "user_id": "456789123",
  "guild_id": "123456789",
  "favorites": [
    {
      "title": "Favorite Song",
      "author": "Artist",
      "uri": "https://...",
      "added_at": ISODate
    }
  ],
  "playlists": [
    {
      "name": "My Playlist",
      "tracks": [...],
      "created_at": ISODate
    }
  ]
}
```

## üîß –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### üéõÔ∏è **HarmonyPlayer**

–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞—É–¥–∏–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º.

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:**

- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—É–¥–∏–æ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥—å—é —Ç—Ä–µ–∫–æ–≤

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**

```python
class HarmonyPlayer(wavelink.Player):
    async def play_track(self, track, **kwargs)
    async def set_effects(self, **kwargs)
    async def save_queue(self) -> bool
    async def load_saved_queue(self) -> bool
    @property
    def volume(self) -> int
```

### üé® **MusicPlayerView**

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º—É–∑—ã–∫–æ–π.

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:**

- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞

**–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

```python
class MusicPlayerView(BaseEmojiView):
    async def shuffle_button_callback(self, interaction)
    async def volume_button_callback(self, interaction)
    async def effects_button_callback(self, interaction)
    async def update_track_select(self)
```

### üóÑÔ∏è **MongoService**

–°–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º.

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:**

- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**

```python
class MongoService:
    async def get_guild_settings(guild_id: int) -> Dict
    async def set_guild_settings(guild_id: int, settings: Dict) -> bool
    async def get_guild_volume(guild_id: int) -> int
    async def save_queue(guild_id: int, queue_data: Dict) -> bool
```

### üéõÔ∏è **AudioEffectsManager**

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É–¥–∏–æ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏.

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:**

- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∞—É–¥–∏–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —ç—Ñ—Ñ–µ–∫—Ç–æ–≤

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã:**

```python
class EffectType(Enum):
    BASS_BOOST = "bass_boost"
    NIGHTCORE = "nightcore"
    VAPORWAVE = "vaporwave"
    TREBLE_BOOST = "treble_boost"
    KARAOKE = "karaoke"
    TREMOLO = "tremolo"
    VIBRATO = "vibrato"
    DISTORTION = "distortion"
```

## üîÑ –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### üè≠ **Factory Pattern**

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–µ–µ—Ä–æ–≤ –∏ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

```python
@classmethod
async def create(cls, player, message=None, requester=None, **kwargs):
    # –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
    instance = cls(player=player, message=message, requester=requester, **kwargs)
    await instance._initialize_emojis()
    return instance
```

### üéØ **Observer Pattern**

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–ª–µ–µ—Ä–∞.

```python
class NowPlayingUpdater:
    def register_message(self, guild_id, message, player, track, requester):
        # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
        self.active_messages[guild_id] = {...}
```

### üõ°Ô∏è **Decorator Pattern**

–î–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π.

```python
def check_player_ownership(func):
    async def wrapper(interaction, player, *args, **kwargs):
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø–ª–µ–µ—Ä–∞
        if not await validate_ownership(interaction, player):
            return
        return await func(interaction, player, *args, **kwargs)
    return wrapper
```

### üóÑÔ∏è **Repository Pattern**

–î–ª—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º.

```python
class MongoService:
    @staticmethod
    async def get_guild_settings(guild_id: int) -> Dict:
        # –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ MongoDB
        collection = get_collection("guild_settings")
        return await collection.find_one({"guild_id": str(guild_id)})
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### üõ°Ô∏è **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è URL –∏ —Å—Å—ã–ª–æ–∫

### üîê **–†–∞–∑—Ä–µ—à–µ–Ω–∏—è**

- –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π Discord
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø–ª–µ–µ—Ä–∞
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–º–∞–Ω–¥–∞–º

### üóÑÔ∏è **–ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö**

- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- –ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–∞–º–∏

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### ‚ö° **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**

- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### üìà **–ú–µ—Ç—Ä–∏–∫–∏**

- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –∫–æ–º–∞–Ω–¥: <100ms
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏: ~50MB –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- CPU –Ω–∞–≥—Ä—É–∑–∫–∞: –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è
- –°–µ—Ç–µ–≤–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

### üîÑ **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö Lavalink —Å–µ—Ä–≤–µ—Ä–æ–≤
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏
- –†–µ–ø–ª–∏–∫–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### üìã **–°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

- **Unit —Ç–µ—Å—Ç—ã** –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Integration —Ç–µ—Å—Ç—ã** –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–æ–¥—É–ª–µ–π
- **End-to-end —Ç–µ—Å—Ç—ã** –¥–ª—è –ø–æ–ª–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- **Performance —Ç–µ—Å—Ç—ã** –¥–ª—è –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### üõ†Ô∏è **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

- **pytest** - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **pytest-asyncio** - –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- **pytest-mock** - –¥–ª—è –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏—è
- **pytest-cov** - –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### üöÄ **–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**

- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
- **GraphQL API**
- **WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π**
- **–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π**
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏–¥–µ–æ –ø–æ—Ç–æ–∫–æ–≤**

### üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è**

- **Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**
- **Kubernetes –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è**
- **Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è**
- **Elasticsearch –¥–ª—è –ø–æ–∏—Å–∫–∞**
- **Prometheus –º–µ—Ç—Ä–∏–∫–∏**

---

**üéµ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Harmony Music Bot —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç–∏!**
